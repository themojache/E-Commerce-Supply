function getCartItemValue(a){return parseFloat(a.Price.replace(/^\$+|\$+$/g,""))*parseInt(a["Purchase Options"])}function getTotalCartItemValue(a){var b=0;if(null==a)return b;for(var c=0;c<a.length;c++)b+=getCartItemValue(a[c]);return b}function getItemsInCart(a){return(null==a?getCart():a).length}function getTotalItemsInCart(a){if(null==a)return 0;for(var b=0,c=0;c<a.length;c++)b+=parseInt(a[c]["Purchase Options"]);return b}function getCart(){return JSON.parse(localStorage.getItem("cart")||"[]")}function setCart(a){document.querySelector("nav menu li:last-child span").innerText=a}function add_to_client_cart(a){var b,c=getItemInfo(a),d=getCart();if(0<d.length){var e=!1;for(b=0;b<d.length;b++)if(d[b].Name==c.Name){var f=parseInt(d[b]["Purchase Options"])+parseInt(c["Purchase Options"]);f<=parseInt(c["Avalible Quantity"])&&(d[b]["Purchase Options"]=f.toString()),e=!0}e||d.push(c)}else d.push(c);localStorage.setItem("cart",JSON.stringify(d)),setCart(getTotalItemsInCart(d)),display_cart_content(d)}function display_cart_content(a){var b=document.querySelector("aside.cart .list");b.innerHTML="";for(var c,d=0;d<a.length;d++){c=document.createElement("li"),c.innerHTML=a[d].Name+" x"+a[d]["Purchase Options"];var e=document.createElement("span");e.innerText=getCartItemValue(a[d]).toFixed(2),c.appendChild(e),b.appendChild(c)}document.querySelector("aside.cart div h2 span").innerText=getTotalCartItemValue(a).toFixed(2)}function getItemInfo(a){var b=Array.prototype.slice.call(a.parentElement.parentElement.querySelectorAll("td:not(:first-child):not(:last-child)")).map(function(a){return a.innerText}).concat(a.parentElement.querySelector("input[type=number]").value),c=Array.prototype.slice.call(a.parentElement.parentElement.parentElement.querySelectorAll("th:not(:first-child)")).map(function(a){return a.innerText});return Object.assign(...c.map((a,c)=>({[a]:b[c]})))}window.onload=function(){var a=getCart();setCart(getTotalItemsInCart(a)),display_cart_content(a)};function clearCart(){localStorage.clear(),setCart(0),document.querySelector("aside.cart div h2 span").innerText="0",document.querySelector("aside.cart .list").innerHTML=""}function clearCartUI(){!0==confirm("Press OK if you are sure about clearing your cart")&&clearCart()}function display_cart(a){document.querySelector("aside.cart").style.cssText="display:"+(a?"block":"none")+"!important;"}function placeOrder(){getItemsInCart(getCart())?(clearCart(),alert("Your order has been 'Placed'.")):alert("Your order wasn't placed, your cart is empty.")}